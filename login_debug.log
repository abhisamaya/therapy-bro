2025-10-12T12:03:58.381Z - 
=== NEXT.JS API ROUTE: /api/auth/google ===
2025-10-12T12:03:58.382Z - ğŸ”µ Timestamp: 2025-10-12T12:03:58.382Z
2025-10-12T12:03:58.382Z - ğŸ“ FastAPI URL: http://127.0.0.1:8000
2025-10-12T12:03:58.384Z - ğŸ“¦ Received body from frontend: has_id_token=true, length=1192
2025-10-12T12:03:58.384Z - ğŸŒ Forwarding request to FastAPI backend: http://127.0.0.1:8000/auth/google
2025-10-12 17:33:58 - INFO - ============================================================
2025-10-12 17:33:58 - INFO - === FASTAPI BACKEND: /auth/google ===
2025-10-12 17:33:58 - INFO - ============================================================
2025-10-12 17:33:58 - INFO - ğŸ”µ Timestamp: 2025-10-12 17:33:58.397509+05:30
2025-10-12 17:33:58 - INFO - ğŸ“¦ Received id_token length: 1192
2025-10-12 17:33:58 - DEBUG - ğŸ“¦ ID Token preview: eyJhbGciOiJSUzI1NiIsImtpZCI6ImM4YWI3MTUzMDk3MmJiYT...
2025-10-12 17:33:58 - INFO - ğŸ” Verifying Google token with Google API...
2025-10-12 17:33:58 - ERROR - âŒ Google token verification FAILED
2025-10-12T12:03:58.497Z - ğŸ“¡ FastAPI Response Status: 400 Bad Request
2025-10-12T12:03:58.497Z - ğŸ“‹ FastAPI Response Headers: {"content-length":"33","content-type":"application/json","date":"Sun, 12 Oct 2025 12:03:57 GMT","server":"uvicorn"}
2025-10-12T12:03:58.498Z - ğŸ“¦ FastAPI Response Data: has_access_token=false, token_length=undefined
2025-10-12T12:03:58.498Z - âŒ FastAPI returned error: {"detail":"Invalid Google token"}
2025-10-12T12:04:12.585Z - 
=== NEXT.JS API ROUTE: /api/auth/google ===
2025-10-12T12:04:12.585Z - ğŸ”µ Timestamp: 2025-10-12T12:04:12.585Z
2025-10-12T12:04:12.585Z - ğŸ“ FastAPI URL: http://127.0.0.1:8000
2025-10-12T12:04:12.585Z - ğŸ“¦ Received body from frontend: has_id_token=true, length=1192
2025-10-12T12:04:12.585Z - ğŸŒ Forwarding request to FastAPI backend: http://127.0.0.1:8000/auth/google
2025-10-12 17:34:12 - INFO - ============================================================
2025-10-12 17:34:12 - INFO - === FASTAPI BACKEND: /auth/google ===
2025-10-12 17:34:12 - INFO - ============================================================
2025-10-12 17:34:12 - INFO - ğŸ”µ Timestamp: 2025-10-12 17:34:12.587968+05:30
2025-10-12 17:34:12 - INFO - ğŸ“¦ Received id_token length: 1192
2025-10-12 17:34:12 - DEBUG - ğŸ“¦ ID Token preview: eyJhbGciOiJSUzI1NiIsImtpZCI6ImM4YWI3MTUzMDk3MmJiYT...
2025-10-12 17:34:12 - INFO - ğŸ” Verifying Google token with Google API...
2025-10-12 17:34:12 - ERROR - âŒ Google token verification FAILED
2025-10-12T12:04:12.687Z - ğŸ“¡ FastAPI Response Status: 400 Bad Request
2025-10-12T12:04:12.687Z - ğŸ“‹ FastAPI Response Headers: {"content-length":"33","content-type":"application/json","date":"Sun, 12 Oct 2025 12:04:11 GMT","server":"uvicorn"}
2025-10-12T12:04:12.688Z - ğŸ“¦ FastAPI Response Data: has_access_token=false, token_length=undefined
2025-10-12T12:04:12.688Z - âŒ FastAPI returned error: {"detail":"Invalid Google token"}
2025-10-12T12:04:23.446Z - 
=== NEXT.JS API ROUTE: /api/auth/google ===
2025-10-12T12:04:23.447Z - ğŸ”µ Timestamp: 2025-10-12T12:04:23.446Z
2025-10-12T12:04:23.447Z - ğŸ“ FastAPI URL: http://127.0.0.1:8000
2025-10-12T12:04:23.447Z - ğŸ“¦ Received body from frontend: has_id_token=true, length=1192
2025-10-12T12:04:23.447Z - ğŸŒ Forwarding request to FastAPI backend: http://127.0.0.1:8000/auth/google
2025-10-12 17:34:23 - INFO - ============================================================
2025-10-12 17:34:23 - INFO - === FASTAPI BACKEND: /auth/google ===
2025-10-12 17:34:23 - INFO - ============================================================
2025-10-12 17:34:23 - INFO - ğŸ”µ Timestamp: 2025-10-12 17:34:23.449704+05:30
2025-10-12 17:34:23 - INFO - ğŸ“¦ Received id_token length: 1192
2025-10-12 17:34:23 - DEBUG - ğŸ“¦ ID Token preview: eyJhbGciOiJSUzI1NiIsImtpZCI6ImM4YWI3MTUzMDk3MmJiYT...
2025-10-12 17:34:23 - INFO - ğŸ” Verifying Google token with Google API...
2025-10-12 17:34:23 - ERROR - âŒ Google token verification FAILED
2025-10-12T12:04:23.534Z - ğŸ“¡ FastAPI Response Status: 400 Bad Request
2025-10-12T12:04:23.535Z - ğŸ“‹ FastAPI Response Headers: {"content-length":"33","content-type":"application/json","date":"Sun, 12 Oct 2025 12:04:22 GMT","server":"uvicorn"}
2025-10-12T12:04:23.535Z - ğŸ“¦ FastAPI Response Data: has_access_token=false, token_length=undefined
2025-10-12T12:04:23.536Z - âŒ FastAPI returned error: {"detail":"Invalid Google token"}
2025-10-17T15:57:48.736Z - 
=== NEXT.JS API ROUTE: /api/auth/google ===
2025-10-17T15:57:48.736Z - ğŸ”µ Timestamp: 2025-10-17T15:57:48.736Z
2025-10-17T15:57:48.736Z - ğŸ“ FastAPI URL: http://127.0.0.1:8000
2025-10-17T15:57:48.738Z - ğŸ“¦ Received body from frontend: has_id_token=true, length=1192
2025-10-17T15:57:48.738Z - ğŸŒ Forwarding request to FastAPI backend: http://127.0.0.1:8000/auth/google
2025-10-17 21:27:48 - INFO - ============================================================
2025-10-17 21:27:48 - INFO - === FASTAPI BACKEND: /auth/google ===
2025-10-17 21:27:48 - INFO - ============================================================
2025-10-17 21:27:48 - INFO - ğŸ”µ Timestamp: 2025-10-17 21:27:48.750048+05:30
2025-10-17 21:27:48 - INFO - ğŸ“¦ Received id_token length: 1192
2025-10-17 21:27:48 - DEBUG - ğŸ“¦ ID Token preview: eyJhbGciOiJSUzI1NiIsImtpZCI6ImZiOWY5MzcxZDU3NTVmM2...
2025-10-17 21:27:48 - INFO - ğŸ” Verifying Google token with Google API...
2025-10-17 21:27:48 - ERROR - âŒ Google token verification FAILED
2025-10-17T15:57:48.842Z - ğŸ“¡ FastAPI Response Status: 400 Bad Request
2025-10-17T15:57:48.842Z - ğŸ“‹ FastAPI Response Headers: {"content-length":"33","content-type":"application/json","date":"Fri, 17 Oct 2025 15:57:48 GMT","server":"uvicorn"}
2025-10-17T15:57:48.843Z - ğŸ“¦ FastAPI Response Data: has_access_token=false, token_length=undefined
2025-10-17T15:57:48.843Z - âŒ FastAPI returned error: {"detail":"Invalid Google token"}
2025-10-17T16:05:01.016Z - 
=== NEXT.JS API ROUTE: /api/auth/google ===
2025-10-17T16:05:01.016Z - ğŸ”µ Timestamp: 2025-10-17T16:05:01.016Z
2025-10-17T16:05:01.017Z - ğŸ“ FastAPI URL: http://127.0.0.1:8000
2025-10-17T16:05:01.018Z - ğŸ“¦ Received body from frontend: has_id_token=true, length=1192
2025-10-17T16:05:01.018Z - ğŸŒ Forwarding request to FastAPI backend: http://127.0.0.1:8000/auth/google
2025-10-17 21:35:01 - INFO - ============================================================
2025-10-17 21:35:01 - INFO - === FASTAPI BACKEND: /auth/google ===
2025-10-17 21:35:01 - INFO - ============================================================
2025-10-17 21:35:01 - INFO - ğŸ”µ Timestamp: 2025-10-17 21:35:01.029837+05:30
2025-10-17 21:35:01 - INFO - ğŸ“¦ Received id_token length: 1192
2025-10-17 21:35:01 - DEBUG - ğŸ“¦ ID Token preview: eyJhbGciOiJSUzI1NiIsImtpZCI6ImZiOWY5MzcxZDU3NTVmM2...
2025-10-17 21:35:01 - INFO - ğŸ” Verifying Google token with Google API...
2025-10-17 21:35:01 - ERROR - âŒ Google token verification FAILED
2025-10-17T16:05:01.137Z - ğŸ“¡ FastAPI Response Status: 400 Bad Request
2025-10-17T16:05:01.138Z - ğŸ“‹ FastAPI Response Headers: {"content-length":"33","content-type":"application/json","date":"Fri, 17 Oct 2025 16:05:00 GMT","server":"uvicorn"}
2025-10-17T16:05:01.138Z - ğŸ“¦ FastAPI Response Data: has_access_token=false, token_length=undefined
2025-10-17T16:05:01.138Z - âŒ FastAPI returned error: {"detail":"Invalid Google token"}
2025-10-17T16:05:21.250Z - 
=== NEXT.JS API ROUTE: /api/auth/google ===
2025-10-17T16:05:21.250Z - ğŸ”µ Timestamp: 2025-10-17T16:05:21.250Z
2025-10-17T16:05:21.250Z - ğŸ“ FastAPI URL: http://127.0.0.1:8000
2025-10-17T16:05:21.251Z - ğŸ“¦ Received body from frontend: has_id_token=true, length=1192
2025-10-17T16:05:21.251Z - ğŸŒ Forwarding request to FastAPI backend: http://127.0.0.1:8000/auth/google
2025-10-17 21:35:21 - INFO - ============================================================
2025-10-17 21:35:21 - INFO - === FASTAPI BACKEND: /auth/google ===
2025-10-17 21:35:21 - INFO - ============================================================
2025-10-17 21:35:21 - INFO - ğŸ”µ Timestamp: 2025-10-17 21:35:21.253363+05:30
2025-10-17 21:35:21 - INFO - ğŸ“¦ Received id_token length: 1192
2025-10-17 21:35:21 - DEBUG - ğŸ“¦ ID Token preview: eyJhbGciOiJSUzI1NiIsImtpZCI6ImZiOWY5MzcxZDU3NTVmM2...
2025-10-17 21:35:21 - INFO - ğŸ” Verifying Google token with Google API...
2025-10-17 21:35:21 - ERROR - âŒ Google token verification FAILED
2025-10-17T16:05:21.350Z - ğŸ“¡ FastAPI Response Status: 400 Bad Request
2025-10-17T16:05:21.350Z - ğŸ“‹ FastAPI Response Headers: {"content-length":"33","content-type":"application/json","date":"Fri, 17 Oct 2025 16:05:20 GMT","server":"uvicorn"}
2025-10-17T16:05:21.351Z - ğŸ“¦ FastAPI Response Data: has_access_token=false, token_length=undefined
2025-10-17T16:05:21.351Z - âŒ FastAPI returned error: {"detail":"Invalid Google token"}
2025-10-17T16:05:46.077Z - 
=== NEXT.JS API ROUTE: /api/auth/google ===
2025-10-17T16:05:46.078Z - ğŸ”µ Timestamp: 2025-10-17T16:05:46.077Z
2025-10-17T16:05:46.078Z - ğŸ“ FastAPI URL: http://127.0.0.1:8000
2025-10-17T16:05:46.080Z - ğŸ“¦ Received body from frontend: has_id_token=true, length=1192
2025-10-17T16:05:46.080Z - ğŸŒ Forwarding request to FastAPI backend: http://127.0.0.1:8000/auth/google
2025-10-17 21:35:46 - INFO - ============================================================
2025-10-17 21:35:46 - INFO - === FASTAPI BACKEND: /auth/google ===
2025-10-17 21:35:46 - INFO - ============================================================
2025-10-17 21:35:46 - INFO - ğŸ”µ Timestamp: 2025-10-17 21:35:46.091341+05:30
2025-10-17 21:35:46 - INFO - ğŸ“¦ Received id_token length: 1192
2025-10-17 21:35:46 - DEBUG - ğŸ“¦ ID Token preview: eyJhbGciOiJSUzI1NiIsImtpZCI6ImZiOWY5MzcxZDU3NTVmM2...
2025-10-17 21:35:46 - INFO - ğŸ” Verifying Google token with Google API...
2025-10-17 21:35:46 - INFO - âœ… Google token verified successfully!
2025-10-17 21:35:46 - INFO - ğŸ“‹ Google user info received: {'google_id': '104791936739368012455', 'email': 'gsparsh220598@gmail.com', 'name': 'Sparsh Gupta', 'avatar_url': 'https://lh3.googleusercontent.com/a/ACg8ocLweeQlVSBrmHi50QVFtyT_1yvd9rURaprkQl1c7zzjwgKoUrc=s96-c', 'email_verified': True}
2025-10-17 21:35:46 - INFO - âœ… Email is verified
2025-10-17 21:35:46 - INFO - --- DATABASE OPERATIONS ---
2025-10-17 21:35:46 - INFO - ğŸ” Checking if user exists by Google ID: 104791936739368012455
2025-10-17 21:35:46 - INFO - âš ï¸ No user found with this Google ID
2025-10-17 21:35:46 - INFO - ğŸ” Checking if user exists by email: gsparsh220598@gmail.com
2025-10-17 21:35:46 - INFO - âš ï¸ No existing user found, creating new user...
2025-10-17 21:35:46 - INFO - âœ… Created new user object: login_id=gsparsh220598@gmail.com, google_id=104791936739368012455, name=Sparsh Gupta
2025-10-17 21:35:46 - INFO - ğŸ’¾ Committing changes to database...
2025-10-17T16:05:46.202Z - ğŸ“¡ FastAPI Response Status: 500 Internal Server Error
2025-10-17T16:05:46.202Z - ğŸ“‹ FastAPI Response Headers: {"content-length":"21","content-type":"text/plain; charset=utf-8","date":"Fri, 17 Oct 2025 16:05:45 GMT","server":"uvicorn"}
2025-10-17T16:05:46.204Z - âŒ CRITICAL ERROR in Next.js API route: SyntaxError - Unexpected token 'I', "Internal S"... is not valid JSON
2025-10-17T16:05:46.204Z - Error stack: SyntaxError: Unexpected token 'I', "Internal S"... is not valid JSON
    at JSON.parse (<anonymous>)
    at parseJSONFromBytes (node:internal/deps/undici/undici:5738:19)
    at successSteps (node:internal/deps/undici/undici:5719:27)
    at fullyReadBody (node:internal/deps/undici/undici:4609:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async consumeBody (node:internal/deps/undici/undici:5728:7)
    at async POST (webpack-internal:///(rsc)/./app/api/auth/google/route.ts:62:22)
    at async /home/gsparsh/therapy-bro/frontend/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:57228
    at async eT.execute (/home/gsparsh/therapy-bro/frontend/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:46851)
    at async eT.handle (/home/gsparsh/therapy-bro/frontend/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:6:58760)
    at async doRender (/home/gsparsh/therapy-bro/frontend/node_modules/next/dist/server/base-server.js:1366:42)
    at async cacheEntry.responseCache.get.routeKind (/home/gsparsh/therapy-bro/frontend/node_modules/next/dist/server/base-server.js:1588:28)
    at async DevServer.renderToResponseWithComponentsImpl (/home/gsparsh/therapy-bro/frontend/node_modules/next/dist/server/base-server.js:1496:28)
    at async DevServer.renderPageComponent (/home/gsparsh/therapy-bro/frontend/node_modules/next/dist/server/base-server.js:1924:24)
    at async DevServer.renderToResponseImpl (/home/gsparsh/therapy-bro/frontend/node_modules/next/dist/server/base-server.js:1962:32)
    at async DevServer.pipeImpl (/home/gsparsh/therapy-bro/frontend/node_modules/next/dist/server/base-server.js:922:25)
    at async NextNodeServer.handleCatchallRenderRequest (/home/gsparsh/therapy-bro/frontend/node_modules/next/dist/server/next-server.js:272:17)
    at async DevServer.handleRequestImpl (/home/gsparsh/therapy-bro/frontend/node_modules/next/dist/server/base-server.js:818:17)
    at async /home/gsparsh/therapy-bro/frontend/node_modules/next/dist/server/dev/next-dev-server.js:339:20
    at async Span.traceAsyncFn (/home/gsparsh/therapy-bro/frontend/node_modules/next/dist/trace/trace.js:154:20)
    at async DevServer.handleRequest (/home/gsparsh/therapy-bro/frontend/node_modules/next/dist/server/dev/next-dev-server.js:336:24)
    at async invokeRender (/home/gsparsh/therapy-bro/frontend/node_modules/next/dist/server/lib/router-server.js:179:21)
    at async handleRequest (/home/gsparsh/therapy-bro/frontend/node_modules/next/dist/server/lib/router-server.js:359:24)
    at async requestHandlerImpl (/home/gsparsh/therapy-bro/frontend/node_modules/next/dist/server/lib/router-server.js:383:13)
    at async Server.requestListener (/home/gsparsh/therapy-bro/frontend/node_modules/next/dist/server/lib/start-server.js:141:13)
2025-10-17T16:05:46.204Z - Error detail: Unexpected token 'I', "Internal S"... is not valid JSON
2025-10-17T16:05:46.204Z - Backend URL: http://127.0.0.1:8000/auth/google
2025-10-17T19:09:06.574Z - 
=== NEXT.JS API ROUTE: /api/auth/google ===
2025-10-17T19:09:06.575Z - ğŸ”µ Timestamp: 2025-10-17T19:09:06.575Z
2025-10-17T19:09:06.575Z - ğŸ“ FastAPI URL: http://127.0.0.1:8000
2025-10-17T19:09:06.577Z - ğŸ“¦ Received body from frontend: has_id_token=true, length=1192
2025-10-17T19:09:06.577Z - ğŸŒ Forwarding request to FastAPI backend: http://127.0.0.1:8000/auth/google
2025-10-17T19:09:06.702Z - ğŸ“¡ FastAPI Response Status: 400 Bad Request
2025-10-17T19:09:06.702Z - ğŸ“‹ FastAPI Response Headers: {"content-length":"33","content-type":"application/json","date":"Fri, 17 Oct 2025 19:09:06 GMT","server":"uvicorn"}
2025-10-17T19:09:06.703Z - ğŸ“¦ FastAPI Response Data: has_access_token=false, token_length=undefined
2025-10-17T19:09:06.704Z - âŒ FastAPI returned error: {"detail":"Invalid Google token"}
